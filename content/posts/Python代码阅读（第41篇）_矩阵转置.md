---
title: Python代码阅读（第41篇）：矩阵转置
date: 2020-09-17T12:36:40+08:00
lastmod: 2020-09-17T12:36:40+08:00
author: Felix
cover: /post/Python代码阅读（第41篇）_矩阵转置-cover.jpg
categories: ["技术"]
tags: ["Python"]
draft: false
---

本篇阅读的代码实现了将一个使用嵌套列表表示的矩阵进行转置的功能。

本篇阅读的代码片段来自于[30-seconds-of-python](https://github.com/30-seconds/30-seconds-of-python)。

<!--more-->

# `transpose`

```python
def transpose(lst):
  return list(zip(*lst))

# EXAMPLES
transpose([[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]]) # [(1, 4, 7, 10), (2, 5, 8, 11), (3, 6, 9, 12)]
```

`transpose`函数接收一个列表形式的矩阵，返回该矩阵转只后的结果。

`transpose`函数的输入列表的元素同样是一个列表，这些子列表的长度一致（每个子列表相当于矩阵的一行），构成一个矩阵。函数使用`zip`接收这些子列表，然后同时迭代这些子列表（矩阵的行）。每次迭代这些列表的一个元素构成一个元组（相当于迭代出矩阵的一列）。这些元组组成一个新的列表，这个列表的每一元素都是矩阵的一列，此时，原矩阵完成了转置操作。

`zip(*iterables)`创建一个聚合了来自每个可迭代对象中的元素的迭代器。它返回一个元组的迭代器，其中的第`i`个元组包含来自每个参数序列或可迭代对象的第`i`个元素。 当所输入可迭代对象中最短的一个被耗尽时，迭代器将停止迭代。 当只有一个可迭代对象参数时，它将返回一个单元组的迭代器。不带参数时，它将返回一个空迭代器。

代码中`zip(*lst)`的入参形式`*lst`比较特殊。 `*`将列表`lst`解包，使其每个元素分别作为参数同时传递给`zip`函数。

```python
>>> a = [1,2,3]
>>> b = [-1,-2,-3]
>>> temp1 = zip(a,b)
>>> temp2 = zip(*[a,b])
>>> temp3 = zip([a,b])
>>> list(temp1)
[(1, -1), (2, -2), (3, -3)]
>>> list(temp2)
[(1, -1), (2, -2), (3, -3)]
>>> list(temp3)
[([1, 2, 3],), ([-1, -2, -3],)]
```

